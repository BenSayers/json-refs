!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JsonRefs=e()}}(function(){return function e(r,t,n){function o(s,a){if(!t[s]){if(!r[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[s]={exports:{}};r[s][0].call(f.exports,function(e){var t=r[s][1][e];return o(t||e)},f,f.exports,e,r,t,n)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,r,t){(function(t,n){"use strict";function o(e,r){S.isString(e)&&(e=j(e)),S.isString(r)&&(r=j(r));var t,n,o=d(S.isUndefined(r)?"":r);return F.indexOf(o.reference)>-1?n=o:(t=S.isUndefined(e)?void 0:d(e),S.isUndefined(t)?n=o:((n=t).path=j(A.join(t.path,o.path)),n.query=function(e,r){function t(e){S.each(e,function(e,r){n[r]=e})}var n={};return t(U.parse(e||"")),t(U.parse(r||"")),0===Object.keys(n).length?void 0:U.stringify(n)}(t.query,o.query))),n.fragment=void 0,(-1===F.indexOf(n.reference)&&0===n.path.indexOf("../")?"../":"")+N.serialize(n)}function i(e){return _.indexOf(u(e))>-1}function s(e){return S.isUndefined(e.error)&&"invalid"!==e.type}function a(e,r){var t=e;return r.forEach(function(e){if(!((e=decodeURI(e))in t))throw Error("JSON Pointer points to missing location: "+P(r));t=t[e]}),t}function c(e){return Object.keys(e).filter(function(e){return"$ref"!==e})}function u(e){var r;switch(e.uriDetails.reference){case"absolute":case"uri":r="remote";break;case"same-document":r="local";break;default:r=e.uriDetails.reference}return r}function f(e,r){var t=R[e],n=Promise.resolve(),o=S.cloneDeep(r.loaderOptions||{});return S.isUndefined(t)?(S.isUndefined(o.processContent)&&(o.processContent=function(e,r){r(void 0,JSON.parse(e.text))}),n=(n=T.load(decodeURI(e),o)).then(function(r){return R[e]={value:r},r}).catch(function(r){throw R[e]={error:r},r})):n=n.then(function(){if(S.isError(t.error))throw t.error;return t.value}),n=n.then(function(e){return S.cloneDeep(e)})}function l(e,r){var t=!0;try{if(!S.isPlainObject(e))throw new Error("obj is not an Object");if(!S.isString(e.$ref))throw new Error("obj.$ref is not a String")}catch(e){if(r)throw e;t=!1}return t}function p(e){return-1!==e.indexOf("://")||A.isAbsolute(e)?e:A.resolve(t.cwd(),e)}function h(e,r){e.error=r.message,e.missing=!0}function d(e){return N.parse(encodeURI(decodeURI(e)))}function v(e,r,t){var n,a,c=Promise.resolve(),u=P(r.subDocPath),l=p(r.location),d=A.dirname(r.location),g=l+u;return S.isUndefined(t.docs[l])&&(t.docs[l]=e),S.isUndefined(t.deps[g])&&(t.deps[g]={},n=w(e,r),S.each(n,function(n,l){var y=p(r.location)+l,m=n.refdId=p(i(n)?o(d,n.uri):r.location)+"#"+(n.uri.indexOf("#")>-1?n.uri.split("#")[1]:"");t.refs[y]=n,s(n)&&(t.deps[g][l===u?"#":l.replace(u+"/","#/")]=m,0!==y.indexOf(m+"/")?((a=S.cloneDeep(r)).subDocPath=S.isUndefined(n.uriDetails.fragment)?[]:C(decodeURI(n.uriDetails.fragment)),i(n)?(delete a.filter,a.location=m.split("#")[0],c=c.then(function(e,r){return function(){var t=p(r.location),n=e.docs[t];return S.isUndefined(n)?f(t,r).catch(function(r){return e.docs[t]=r,r}):Promise.resolve().then(function(){return n})}}(t,a))):c=c.then(function(){return e}),c=c.then(function(e,r,t){return function(n){if(S.isError(n))h(t,n);else try{return v(n,r,e).catch(function(e){h(t,e)})}catch(e){h(t,e)}}}(t,a,n))):n.circular=!0)})),c}function g(e,r,t,n){function o(r,o){t.push(o),g(e,r,t,n),t.pop()}var i=!0;S.isFunction(n)&&(i=n(e,r,t)),-1===e.indexOf(r)&&(e.push(r),!1!==i&&(S.isArray(r)?r.forEach(function(e,r){o(e,r.toString())}):S.isObject(r)&&S.forOwn(r,function(e,r){o(e,r)})),e.pop())}function y(e,r){var t;if(e=S.isUndefined(e)?{}:S.cloneDeep(e),!S.isObject(e))throw new TypeError("options must be an Object");if(!S.isUndefined(e.resolveCirculars)&&!S.isBoolean(e.resolveCirculars))throw new TypeError("options.resolveCirculars must be a Boolean");if(!(S.isUndefined(e.filter)||S.isArray(e.filter)||S.isFunction(e.filter)||S.isString(e.filter)))throw new TypeError("options.filter must be an Array, a Function of a String");if(!S.isUndefined(e.includeInvalid)&&!S.isBoolean(e.includeInvalid))throw new TypeError("options.includeInvalid must be a Boolean");if(!S.isUndefined(e.location)&&!S.isString(e.location))throw new TypeError("options.location must be a String");if(!S.isUndefined(e.refPreProcessor)&&!S.isFunction(e.refPreProcessor))throw new TypeError("options.refPreProcessor must be a Function");if(!S.isUndefined(e.refPostProcessor)&&!S.isFunction(e.refPostProcessor))throw new TypeError("options.refPostProcessor must be a Function");if(!S.isUndefined(e.subDocPath)&&!S.isArray(e.subDocPath)&&!O(e.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(S.isUndefined(e.resolveCirculars)&&(e.resolveCirculars=!1),e.filter=function(e){var r,t;return S.isArray(e.filter)||S.isString(e.filter)?(t=S.isString(e.filter)?[e.filter]:e.filter,r=function(e){return t.indexOf(e.type)>-1||t.indexOf(u(e))>-1}):S.isFunction(e.filter)?r=e.filter:S.isUndefined(e.filter)&&(r=function(){return!0}),function(t,n){return("invalid"!==t.type||!0===e.includeInvalid)&&r(t,n)}}(e),S.isUndefined(e.location)&&(e.location=p("./root.json")),(t=e.location.split("#")).length>1&&(e.subDocPath="#"+t[1]),e.location=o(e.location,void 0),e.subDocPath=function(e){var r;return S.isArray(e.subDocPath)?r=e.subDocPath:S.isString(e.subDocPath)?r=C(e.subDocPath):S.isUndefined(e.subDocPath)&&(r=[]),r}(e),!S.isUndefined(r))try{a(r,e.subDocPath)}catch(e){throw e.message=e.message.replace("JSON Pointer","options.subDocPath"),e}return e}function m(e){if(!S.isArray(e))throw new TypeError("path must be an array");return e.map(function(e){return S.isString(e)||(e=JSON.stringify(e)),decodeURI(e.replace(/~1/g,"/").replace(/~0/g,"~"))})}function b(e){if(!S.isArray(e))throw new TypeError("path must be an array");return e.map(function(e){return S.isString(e)||(e=JSON.stringify(e)),e.replace(/~/g,"~0").replace(/\//g,"~1")})}function w(e,r){var t={};if(!S.isArray(e)&&!S.isObject(e))throw new TypeError("obj must be an Array or an Object");return r=y(r,e),g(function(e,r){var t,n=[];return r.length>0&&(t=e,r.slice(0,r.length-1).forEach(function(e){e in t&&(t=t[e],n.push(t))})),n}(e,r.subDocPath),a(e,r.subDocPath),S.cloneDeep(r.subDocPath),function(e,n,o){var i,s,a=!0;return l(n)&&(S.isUndefined(r.refPreProcessor)||(n=r.refPreProcessor(S.cloneDeep(n),o)),i=E(n),S.isUndefined(r.refPostProcessor)||(i=r.refPostProcessor(i,o)),r.filter(i,o)&&(s=P(o),t[s]=i),c(n).length>0&&(a=!1)),a}),t}function E(e){var r,t,n,o={def:e};try{l(e,!0)?(r=e.$ref,n=q[r],S.isUndefined(n)&&(n=q[r]=d(r)),o.uri=r,o.uriDetails=n,S.isUndefined(n.error)?o.type=u(o):(o.error=o.uriDetails.error,o.type="invalid"),(t=c(e)).length>0&&(o.warning="Extra JSON Reference properties will be ignored: "+t.join(", "))):o.type="invalid"}catch(e){o.error=e.message,o.type="invalid"}return o}function O(e,r){var t,n=!0;try{if(!S.isString(e))throw new Error("ptr is not a String");if(""!==e){if(t=e.charAt(0),-1===["#","/"].indexOf(t))throw new Error("ptr must start with a / or #/");if("#"===t&&"#"!==e&&"/"!==e.charAt(1))throw new Error("ptr must start with a / or #/");if(e.match(I))throw new Error("ptr has invalid token(s)")}}catch(e){if(!0===r)throw e;n=!1}return n}function C(e){try{O(e,!0)}catch(e){throw new Error("ptr must be a JSON Pointer: "+e.message)}var r=e.split("/");return r.shift(),m(r)}function P(e,r){if(!S.isArray(e))throw new Error("path must be an Array");return(!1!==r?"#":"")+(e.length>0?"/":"")+b(e).join("/")}function x(e,r){var t=Promise.resolve();return t=t.then(function(){if(!S.isArray(e)&&!S.isObject(e))throw new TypeError("obj must be an Array or an Object");r=y(r,e),e=S.cloneDeep(e)}).then(function(){var t={deps:{},docs:{},refs:{}};return v(e,r,t).then(function(){return t})}).then(function(e){function t(o,i,a){var c,u=i.split("#"),f=e.refs[i];n[u[0]===r.location?"#"+u[1]:P(r.subDocPath.concat(a))]=f,!f.circular&&s(f)?(c=e.deps[f.refdId],0!==f.refdId.indexOf(o)&&Object.keys(c).forEach(function(e){t(f.refdId,f.refdId+e.substr(1),a.concat(C(e)))})):!f.circular&&f.error&&(f.error=f.error.replace("options.subDocPath","JSON Pointer"),f.error.indexOf("#")>-1&&(f.error=f.error.replace(f.uri.substr(f.uri.indexOf("#")),f.uri)),0!==f.error.indexOf("ENOENT:")&&0!==f.error.indexOf("Not Found")||(f.error="JSON Pointer points to missing location: "+f.uri))}var n={},o=[],c=[],u=new D.Graph,f=p(r.location),l=f+P(r.subDocPath);return Object.keys(e.deps).forEach(function(e){u.setNode(e)}),S.each(e.deps,function(e,r){S.each(e,function(e){u.setEdge(r,e)})}),(o=D.alg.findCycles(u)).forEach(function(e){e.forEach(function(e){-1===c.indexOf(e)&&c.push(e)})}),S.each(e.deps,function(r,t){S.each(r,function(r,n){var s,a=!1,u=t+n.slice(1),f=e.refs[t+n.slice(1)],l=i(f);c.indexOf(r)>-1&&o.forEach(function(e){a||(s=e.indexOf(r))>-1&&e.forEach(function(r){a||0===u.indexOf(r+"/")&&(l&&s===e.length-1||!l)&&(a=!0)})}),a&&(f.circular=!0)})}),S.each(Object.keys(e.deps).reverse(),function(t){var n=e.deps[t],o=t.split("#"),i=e.docs[o[0]],s=C(o[1]);S.each(n,function(t,n){var c=t.split("#"),u=e.docs[c[0]],f=s.concat(C(n)),l=e.refs[o[0]+P(f)];if(S.isUndefined(l.error)&&S.isUndefined(l.missing))if(!r.resolveCirculars&&l.circular)l.value=l.def;else{try{l.value=a(u,C(c[1]))}catch(e){return void h(l,e)}""===o[1]&&"#"===n?e.docs[o[0]]=l.value:function(e,r,t){a(e,r.slice(0,r.length-1))[decodeURI(r[r.length-1])]=t}(i,f,l.value)}})}),Object.keys(e.refs).forEach(function(e){0===e.indexOf(l)&&t(l,e,C(e.substr(l.length)))}),S.each(e.refs,function(e){delete e.refdId}),{refs:n,resolved:e.docs[f]}})}var S="undefined"!=typeof window?window._:void 0!==n?n._:null,D="undefined"!=typeof window?window.graphlib:void 0!==n?n.graphlib:null,A=e("path"),T="undefined"!=typeof window?window.PathLoader:void 0!==n?n.PathLoader:null,U=e("querystring"),j=e("slash"),N=e("uri-js"),I=/~(?:[^01]|$)/g,R={},_=["relative","remote"],F=["absolute","uri"],q={};"undefined"==typeof Promise&&e("native-promise-only"),r.exports.clearCache=function(){R={}},r.exports.decodePath=m,r.exports.encodePath=b,r.exports.findRefs=w,r.exports.findRefsAt=function(e,r){var t=Promise.resolve();return t=t.then(function(){if(!S.isString(e))throw new TypeError("location must be a string");return S.isUndefined(r)&&(r={}),S.isObject(r)&&(r.location=e),r=y(r),f(r.location,r)}).then(function(e){var t=S.cloneDeep(R[r.location]),n=S.cloneDeep(r),o=d(r.location);return S.isUndefined(t.refs)&&(delete n.filter,delete n.subDocPath,n.includeInvalid=!0,R[r.location].refs=w(e,n)),S.isUndefined(r.filter)||(n.filter=r.filter),S.isUndefined(o.fragment)?S.isUndefined(o.subDocPath)||(n.subDocPath=r.subDocPath):n.subDocPath=C(decodeURI(o.fragment)),{refs:w(e,n),value:e}})},r.exports.getRefDetails=E,r.exports.isPtr=O,r.exports.isRef=function(e,r){return l(e,r)&&"invalid"!==E(e).type},r.exports.pathFromPtr=C,r.exports.pathToPtr=P,r.exports.resolveRefs=x,r.exports.resolveRefsAt=function(e,r){var t=Promise.resolve();return t=t.then(function(){if(!S.isString(e))throw new TypeError("location must be a string");return S.isUndefined(r)&&(r={}),S.isObject(r)&&(r.location=e),r=y(r),f(r.location,r)}).then(function(e){var t=S.cloneDeep(r),n=d(r.location);return S.isUndefined(n.fragment)||(t.subDocPath=C(decodeURI(n.fragment))),x(e,t).then(function(r){return{refs:r.refs,resolved:r.resolved,value:e}})})}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:4,"native-promise-only":2,path:3,querystring:7,slash:8,"uri-js":9}],2:[function(e,r,t){(function(e){!function(e,t,n){t[e]=t[e]||n(),void 0!==r&&r.exports&&(r.exports=t[e])}("Promise",void 0!==e?e:this,function(){"use strict";function e(e,r){f.add(e,r),u||(u=p(f.drain))}function r(e){var r,t=typeof e;return null==e||"object"!=t&&"function"!=t||(r=e.then),"function"==typeof r&&r}function t(){for(var e=0;e<this.chain.length;e++)!function(e,t,n){var o,i;try{!1===t?n.reject(e.msg):(o=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=r(o))?i.call(o,n.resolve,n.reject):n.resolve(o)}catch(e){n.reject(e)}}(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function n(i){var a,c=this;if(!c.triggered){c.triggered=!0,c.def&&(c=c.def);try{(a=r(i))?e(function(){var e=new s(c);try{a.call(i,function(){n.apply(e,arguments)},function(){o.apply(e,arguments)})}catch(r){o.call(e,r)}}):(c.msg=i,c.state=1,c.chain.length>0&&e(t,c))}catch(e){o.call(new s(c),e)}}}function o(r){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=r,n.state=2,n.chain.length>0&&e(t,n))}function i(e,r,t,n){for(var o=0;o<r.length;o++)!function(o){e.resolve(r[o]).then(function(e){t(o,e)},n)}(o)}function s(e){this.def=e,this.triggered=!1}function a(r){if("function"!=typeof r)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new function(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}(this);this.then=function(r,n){var o={success:"function"!=typeof r||r,failure:"function"==typeof n&&n};return o.promise=new this.constructor(function(e,r){if("function"!=typeof e||"function"!=typeof r)throw TypeError("Not a function");o.resolve=e,o.reject=r}),i.chain.push(o),0!==i.state&&e(t,i),o.promise},this.catch=function(e){return this.then(void 0,e)};try{r.call(void 0,function(e){n.call(i,e)},function(e){o.call(i,e)})}catch(e){o.call(i,e)}}var c,u,f,l=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),c=function(e,r,t,n){return Object.defineProperty(e,r,{value:t,writable:!0,configurable:!1!==n})}}catch(e){c=function(e,r,t){return e[r]=t,e}}f=function(){var e,r,t;return{add:function(n,o){t=new function(e,r){this.fn=e,this.self=r,this.next=void 0}(n,o),r?r.next=t:e=t,r=t,t=void 0},drain:function(){var t=e;for(e=r=u=void 0;t;)t.fn.call(t.self),t=t.next}}}();var h=c({},"constructor",a,!1);return a.prototype=h,c(h,"__NPO__",0,!1),c(a,"resolve",function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this(function(r,t){if("function"!=typeof r||"function"!=typeof t)throw TypeError("Not a function");r(e)})}),c(a,"reject",function(e){return new this(function(r,t){if("function"!=typeof r||"function"!=typeof t)throw TypeError("Not a function");t(e)})}),c(a,"all",function(e){var r=this;return"[object Array]"!=l.call(e)?r.reject(TypeError("Not an array")):0===e.length?r.resolve([]):new r(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");var o=e.length,s=Array(o),a=0;i(r,e,function(e,r){s[e]=r,++a===o&&t(s)},n)})}),c(a,"race",function(e){var r=this;return"[object Array]"!=l.call(e)?r.reject(TypeError("Not an array")):new r(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");i(r,e,function(e,r){t(r)},n)})}),a})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,r,t){(function(e){function r(e,r){for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t--;t)e.unshift("..");return e}function n(e,r){if(e.filter)return e.filter(r);for(var t=[],n=0;n<e.length;n++)r(e[n],n,e)&&t.push(e[n]);return t}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,o="/"===s.charAt(0))}return t=r(n(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===s(e,-1);return(e=r(n(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,r){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),a=s,c=0;c<s;c++)if(o[c]!==i[c]){a=c;break}var u=[];for(c=a;c<o.length;c++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var r=i(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},t.basename=function(e,r){var t=i(e)[2];return r&&t.substr(-1*r.length)===r&&(t=t.substr(0,t.length-r.length)),t},t.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,r,t){return e.substr(r,t)}:function(e,r,t){return r<0&&(r=e.length+r),e.substr(r,t)}}).call(this,e("_process"))},{_process:4}],4:[function(e,r,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(r){try{return f.call(null,e,0)}catch(r){return f.call(this,e,0)}}}function s(){v&&h&&(v=!1,h.length?d=h.concat(d):g=-1,d.length&&a())}function a(){if(!v){var e=i(s);v=!0;for(var r=d.length;r;){for(h=d,d=[];++g<r;)h&&h[g].run();g=-1,r=d.length}h=null,v=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(r){try{return l.call(null,e)}catch(r){return l.call(this,e)}}}(e)}}function c(e,r){this.fun=e,this.array=r}function u(){}var f,l,p=r.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(e){l=o}}();var h,d=[],v=!1,g=-1;p.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];d.push(new c(e,r)),1!==d.length||v||i(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],5:[function(e,r,t){"use strict";function n(e,r){return Object.prototype.hasOwnProperty.call(e,r)}r.exports=function(e,r,t,i){r=r||"&",t=t||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(r);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var f=0;f<u;++f){var l,p,h,d,v=e[f].replace(a,"%20"),g=v.indexOf(t);g>=0?(l=v.substr(0,g),p=v.substr(g+1)):(l=v,p=""),h=decodeURIComponent(l),d=decodeURIComponent(p),n(s,h)?o(s[h])?s[h].push(d):s[h]=[s[h],d]:s[h]=d}return s};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],6:[function(e,r,t){"use strict";function n(e,r){if(e.map)return e.map(r);for(var t=[],n=0;n<e.length;n++)t.push(r(e[n],n));return t}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};r.exports=function(e,r,t,a){return r=r||"&",t=t||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var a=encodeURIComponent(o(s))+t;return i(e[s])?n(e[s],function(e){return a+encodeURIComponent(o(e))}).join(r):a+encodeURIComponent(o(e[s]))}).join(r):a?encodeURIComponent(o(a))+t+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}},{}],7:[function(e,r,t){"use strict";t.decode=t.parse=e("./decode"),t.encode=t.stringify=e("./encode")},{"./decode":5,"./encode":6}],8:[function(e,r,t){"use strict";r.exports=function(e){var r=/^\\\\\?\\/.test(e),t=/[^\x00-\x80]+/.test(e);return r||t?e:e.replace(/\\/g,"/")}},{}],9:[function(e,r,t){!function(e,n){n("object"==typeof t&&void 0!==r?t:e.URI=e.URI||{})}(this,function(e){"use strict";function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var n=r.length-1,o=1;o<n;++o)r[o]=r[o].slice(1,-1);return r[n]=r[n].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){var n=r("[0-9]","[A-Fa-f]"),o=t(t("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+t("%[89A-Fa-f]"+n+"%"+n+n)+"|"+t("%"+n+n)),i="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",s=r("[\\:\\/\\?\\#\\[\\]\\@]",i),a=e?"[\\uE000-\\uF8FF]":"[]",c=r("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),u=t("[A-Za-z]"+r("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),f=t(t(o+"|"+r(c,i,"[\\:]"))+"*"),l=t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("[1-9][0-9]")+"|[0-9]"),p=t(l+"\\."+l+"\\."+l+"\\."+l),h=t(n+"{1,4}"),d=t(t(h+"\\:"+h)+"|"+p),v=t([t(t(h+"\\:")+"{6}"+d),t("\\:\\:"+t(h+"\\:")+"{5}"+d),t(t(h)+"?\\:\\:"+t(h+"\\:")+"{4}"+d),t(t(t(h+"\\:")+"{0,1}"+h)+"?\\:\\:"+t(h+"\\:")+"{3}"+d),t(t(t(h+"\\:")+"{0,2}"+h)+"?\\:\\:"+t(h+"\\:")+"{2}"+d),t(t(t(h+"\\:")+"{0,3}"+h)+"?\\:\\:"+h+"\\:"+d),t(t(t(h+"\\:")+"{0,4}"+h)+"?\\:\\:"+d),t(t(t(h+"\\:")+"{0,5}"+h)+"?\\:\\:"+h),t(t(t(h+"\\:")+"{0,6}"+h)+"?\\:\\:")].join("|")),g=t("\\["+t(v+"|"+t("[vV]"+n+"+\\."+r(c,i,"[\\:]")+"+"))+"\\]"),y=t(t(o+"|"+r(c,i))+"*"),m=t(g+"|"+p+"(?!"+y+")|"+y),b=t("[0-9]*"),w=t(t(f+"@")+"?"+m+t("\\:"+b)+"?"),E=t(o+"|"+r(c,i,"[\\:\\@]")),O=t(E+"*"),C=t(E+"+"),P=t(t(o+"|"+r(c,i,"[\\@]"))+"+"),x=t(t("\\/"+O)+"*"),S=t("\\/"+t(C+x)+"?"),D=t(P+x),A=t(C+x),T="(?!"+E+")",U=(t(x+"|"+S+"|"+D+"|"+A+"|"+T),t(t(E+"|"+r("[\\/\\?]",a))+"*")),j=t(t(E+"|[\\/\\?]")+"*"),N=t(t("\\/\\/"+w+x)+"|"+S+"|"+A+"|"+T);t(t(u+"\\:"+N+t("\\?"+U)+"?"+t("\\#"+j)+"?")+"|"+t(t(t("\\/\\/"+w+x)+"|"+S+"|"+D+"|"+T)+t("\\?"+U)+"?"+t("\\#"+j)+"?")),t(u+"\\:"+N+t("\\?"+U)+"?"),t(t("\\/\\/("+t("("+f+")@")+"?("+m+")"+t("\\:("+b+")")+"?)")+"?("+x+"|"+S+"|"+A+"|"+T+")"),t("\\?("+U+")"),t("\\#("+j+")"),t(t("\\/\\/("+t("("+f+")@")+"?("+m+")"+t("\\:("+b+")")+"?)")+"?("+x+"|"+S+"|"+D+"|"+T+")"),t("\\?("+U+")"),t("\\#("+j+")"),t(t("\\/\\/("+t("("+f+")@")+"?("+m+")"+t("\\:("+b+")")+"?)")+"?("+x+"|"+S+"|"+A+"|"+T+")"),t("\\?("+U+")"),t("\\#("+j+")"),t("("+f+")@"),t("\\:("+b+")");return{NOT_SCHEME:new RegExp(r("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",c,i),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",c,i),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",c,i),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",c,i),"g"),NOT_QUERY:new RegExp(r("[^\\%]",c,i,"[\\:\\@\\/\\?]",a),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",c,i,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",c,i),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",c,s),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV6ADDRESS:new RegExp("\\[?("+v+")\\]?","g")}}function s(e){throw new RangeError(P[e])}function a(e,r){var t=e.split("@"),n="";t.length>1&&(n=t[0]+"@",e=t[1]);return n+function(e,r){for(var t=[],n=e.length;n--;)t[n]=r(e[n]);return t}((e=e.replace(C,".")).split("."),r).join(".")}function c(e){for(var r=[],t=0,n=e.length;t<n;){var o=e.charCodeAt(t++);if(o>=55296&&o<=56319&&t<n){var i=e.charCodeAt(t++);56320==(64512&i)?r.push(((1023&o)<<10)+(1023&i)+65536):(r.push(o),t--)}else r.push(o)}return r}function u(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function f(e){for(var r="",t=0,n=e.length;t<n;){var o=parseInt(e.substr(t+1,2),16);if(o<128)r+=String.fromCharCode(o),t+=3;else if(o>=194&&o<224){if(n-t>=6){var i=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&o)<<6|63&i)}else r+=e.substr(t,6);t+=6}else if(o>=224){if(n-t>=9){var s=parseInt(e.substr(t+4,2),16),a=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function l(e,r){function t(e){var t=f(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,u).replace(r.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,u).replace(r.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,u).replace(r.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,u).replace(r.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,u).replace(r.PCT_ENCODED,o)),e}function p(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},n=!1!==r.iri?b:m;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var o=e.match(R);if(o){_?(t.scheme=o[1],t.userinfo=o[3],t.host=o[4],t.port=parseInt(o[5],10),t.path=o[6]||"",t.query=o[7],t.fragment=o[8],isNaN(t.port)&&(t.port=o[5])):(t.scheme=o[1]||void 0,t.userinfo=-1!==e.indexOf("@")?o[3]:void 0,t.host=-1!==e.indexOf("//")?o[4]:void 0,t.port=parseInt(o[5],10),t.path=o[6]||"",t.query=-1!==e.indexOf("?")?o[7]:void 0,t.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),t.host&&(t.host=t.host.replace(n.IPV6ADDRESS,"$1")),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference="relative":void 0===t.fragment?t.reference="absolute":t.reference="uri":t.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var i=I[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||i&&i.unicodeSupport)l(t,n);else{if(t.host&&(r.domainHost||i&&i.domainHost))try{t.host=N.toASCII(t.host.replace(n.PCT_ENCODED,f).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}l(t,m)}i&&i.parse&&i.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}function h(e){for(var r=[];e.length;)if(e.match(F))e=e.replace(F,"");else if(e.match(q))e=e.replace(q,"/");else if(e.match(z))e=e.replace(z,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(H);if(!t)throw new Error("Unexpected dot segment condition");var n=t[0];e=e.slice(n.length),r.push(n)}return r.join("")}function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?b:m,n=[],o=I[(r.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||o&&o.domainHost)try{e.host=r.iri?N.toUnicode(e.host):N.toASCII(e.host.replace(t.PCT_ENCODED,f).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}l(e,t),"suffix"!==r.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var i=function(e,r){var t=!1!==r.iri?b:m,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(String(e.host).replace(t.IPV6ADDRESS,"[$1]")),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,r);if(void 0!==i&&("suffix"!==r.reference&&n.push("//"),n.push(i),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var s=e.path;r.absolutePath||o&&o.absolutePath||(s=h(s)),void 0===i&&(s=s.replace(/^\/\//,"/%2F")),n.push(s)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function v(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=p(d(e,t),t),r=p(d(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(n.scheme=r.scheme,n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=h(r.path||""),n.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=h(r.path||""),n.query=r.query):(r.path?("/"===r.path.charAt(0)?n.path=h(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:n.path=r.path:n.path="/"+r.path,n.path=h(n.path)),n.query=r.query):(n.path=e.path,void 0!==r.query?n.query=r.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=r.fragment,n}function g(e,r){return e&&e.toString().replace(r&&r.iri?b.PCT_ENCODED:m.PCT_ENCODED,f)}function y(e){var r=f(e);return r.match(B)?r:e}var m=i(!1),b=i(!0),w=2147483647,E=/^xn--/,O=/[^\0-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=Math.floor,S=String.fromCharCode,D=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:36},A=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},T=function(e,r,t){var n=0;for(e=t?x(e/700):e>>1,e+=x(e/r);e>455;n+=36)e=x(e/35);return x(n+36*e/(e+38))},U=function(e){var r=[],t=e.length,n=0,o=128,i=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&s("not-basic"),r.push(e.charCodeAt(c));for(var u=a>0?a+1:0;u<t;){for(var f=n,l=1,p=36;;p+=36){u>=t&&s("invalid-input");var h=D(e.charCodeAt(u++));(h>=36||h>x((w-n)/l))&&s("overflow"),n+=h*l;var d=p<=i?1:p>=i+26?26:p-i;if(h<d)break;var v=36-d;l>x(w/v)&&s("overflow"),l*=v}var g=r.length+1;i=T(n-f,g,0==f),x(n/g)>w-o&&s("overflow"),o+=x(n/g),n%=g,r.splice(n++,0,o)}return String.fromCodePoint.apply(String,r)},j=function(e){var r=[],t=(e=c(e)).length,n=128,o=0,i=72,a=!0,u=!1,f=void 0;try{for(var l,p=e[Symbol.iterator]();!(a=(l=p.next()).done);a=!0){var h=l.value;h<128&&r.push(S(h))}}catch(e){u=!0,f=e}finally{try{!a&&p.return&&p.return()}finally{if(u)throw f}}var d=r.length,v=d;for(d&&r.push("-");v<t;){var g=w,y=!0,m=!1,b=void 0;try{for(var E,O=e[Symbol.iterator]();!(y=(E=O.next()).done);y=!0){var C=E.value;C>=n&&C<g&&(g=C)}}catch(e){m=!0,b=e}finally{try{!y&&O.return&&O.return()}finally{if(m)throw b}}var P=v+1;g-n>x((w-o)/P)&&s("overflow"),o+=(g-n)*P,n=g;var D=!0,U=!1,j=void 0;try{for(var N,I=e[Symbol.iterator]();!(D=(N=I.next()).done);D=!0){var R=N.value;if(R<n&&++o>w&&s("overflow"),R==n){for(var _=o,F=36;;F+=36){var q=F<=i?1:F>=i+26?26:F-i;if(_<q)break;var z=_-q,H=36-q;r.push(S(A(q+z%H,0))),_=x(z/H)}r.push(S(A(_,0))),i=T(o,P,v==d),o=0,++v}}}catch(e){U=!0,j=e}finally{try{!D&&I.return&&I.return()}finally{if(U)throw j}}++o,++n}return r.join("")},N={version:"2.1.0",ucs2:{decode:c,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:U,encode:j,toASCII:function(e){return a(e,function(e){return O.test(e)?"xn--"+j(e):e})},toUnicode:function(e){return a(e,function(e){return E.test(e)?U(e.slice(4).toLowerCase()):e})}},I={},R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[\dA-F:.]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,_=void 0==="".match(/(){0}/)[1],F=/^\.\.?\//,q=/^\/\.(\/|$)/,z=/^\/\.\.(\/|$)/,H=/^\/?(?:.|\n)*?(?=\/|$)/,L={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},k={scheme:"https",domainHost:L.domainHost,parse:L.parse,serialize:L.serialize},$={},J="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",M="[0-9A-Fa-f]",Z=t(t("%[EFef]"+M+"%"+M+M+"%"+M+M)+"|"+t("%[89A-Fa-f]"+M+"%"+M+M)+"|"+t("%"+M+M)),V=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),B=new RegExp(J,"g"),G=new RegExp(Z,"g"),K=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',V),"g"),Q=new RegExp(r("[^]",J,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Y=Q,W={scheme:"mailto",parse:function(e,r){var t=e.to=e.path?e.path.split(","):[];if(e.path=void 0,e.query){for(var n=!1,o={},i=e.query.split("&"),s=0,a=i.length;s<a;++s){var c=i[s].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),f=0,l=u.length;f<l;++f)t.push(u[f]);break;case"subject":e.subject=g(c[1],r);break;case"body":e.body=g(c[1],r);break;default:n=!0,o[g(c[0],r)]=g(c[1],r)}}n&&(e.headers=o)}e.query=void 0;for(var p=0,h=t.length;p<h;++p){var d=t[p].split("@");if(d[0]=g(d[0]),r.unicodeSupport)d[1]=g(d[1],r).toLowerCase();else try{d[1]=N.toASCII(g(d[1],r).toLowerCase())}catch(r){e.error=e.error||"Email address's domain name can not be converted to ASCII via punycode: "+r}t[p]=d.join("@")}return e},serialize:function(e,r){var t=function(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(t){for(var n=0,i=t.length;n<i;++n){var s=String(t[n]),a=s.lastIndexOf("@"),c=s.slice(0,a).replace(G,y).replace(G,o).replace(K,u),f=s.slice(a+1);try{f=r.iri?N.toUnicode(f):N.toASCII(g(f,r).toLowerCase())}catch(t){e.error=e.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}t[n]=c+"@"+f}e.path=t.join(",")}var l=e.headers=e.headers||{};e.subject&&(l.subject=e.subject),e.body&&(l.body=e.body);var p=[];for(var h in l)l[h]!==$[h]&&p.push(h.replace(G,y).replace(G,o).replace(Q,u)+"="+l[h].replace(G,y).replace(G,o).replace(Y,u));return p.length&&(e.query=p.join("&")),e}},X=new RegExp("^urn\\:((?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31}))$"),ee=/^([^\:]+)\:(.*)/,re=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,te={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(ee);if(t){var n="urn:"+t[1].toLowerCase(),o=I[n];o||(o=I[n]={scheme:n,parse:function(e,r){return e},serialize:I.urn.serialize}),e.scheme=n,e.path=t[2],e=o.parse(e,r)}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,r){var t=e.scheme||r.scheme;if(t&&"urn"!==t){var n=t.match(X)||["urn:"+t,t];e.scheme="urn",e.path=n[1]+":"+(e.path?e.path.replace(re,u):"")}return e}},ne=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oe={scheme:"urn:uuid",parse:function(e,r){return r.tolerant||e.path&&e.path.match(ne)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,r){return r.tolerant||e.path&&e.path.match(ne)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,I.urn.serialize(e,r)}};I.http=L,I.https=k,I.mailto=W,I.urn=te,I["urn:uuid"]=oe,e.SCHEMES=I,e.pctEncChar=u,e.pctDecChars=f,e.parse=p,e.removeDotSegments=h,e.serialize=d,e.resolveComponents=v,e.resolve=function(e,r,t){return d(v(p(e,t),p(r,t),t,!0),t)},e.normalize=function(e,r){return"string"==typeof e?e=d(p(e,r),r):"object"===n(e)&&(e=p(d(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=d(p(e,t),t):"object"===n(e)&&(e=d(e,t)),"string"==typeof r?r=d(p(r,t),t):"object"===n(r)&&(r=d(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?b.ESCAPE:m.ESCAPE,u)},e.unescapeComponent=g,Object.defineProperty(e,"__esModule",{value:!0})})},{}]},{},[1])(1)});